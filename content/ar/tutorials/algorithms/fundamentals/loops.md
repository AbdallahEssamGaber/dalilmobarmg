---
title: الحلقات التكرارية (loops)
description: تعلم الحلقات التكرارية وأهميتها وإستخداماتها
position: 7
category: fundamentals
createdAt: 1610641443571
updatedAt: 1610641443571
new: false
updated: false
contributors:
  - ebrahimmaher
---

## مقدمة
### مشكلة تكرار الطباعة
تخيل أنك تريد كتابة كود يطبع اﻷعداد من 1 إلى 5، كيف سيكون شكل الكود؟
سأخمن ما ببالك اﻵن، سيكون كالتالي:

```js
console.log(1);
console.log(2);
console.log(3);
console.log(4);
console.log(5);
```
الكود السابق سيُنفذ، وسيطبع اﻷعداد من 1 إلى 5 ولا يوجد مشكلة، لكن ماذا لو أردنا طباعة اﻷعداد من **1 إلى 1000** ؟ وماذا لو أردنا طباعة اﻷعداد من **1 إلى 100000**؟ بالتأكيد لن تتمكن من كتابة 100 ألف أمر طباعة!

### مشكلة تكرار الجمع
لنفرض أني قلت لك اكتب برنامج يطبع مجموع اﻷعداد من 1 إلى 5.. بالتأكيد سيكون شكل الكود كالتالي:

```js
console.log(1+2+3+4+5);
```

لكن لنفرض أني قلت لك اكتب برنامج يطبع مجموع اﻷعداد من 1 إلى 500! عملية صعبة على العقل البشري أكيد وأيضاً اﻷصعب أن تكتبهم كما في المثال السابق! خصوصا لو قلت لك نريد مجموع اﻷعداد من 1 إلى 100000! تحتاج لسنوات حتى تكتبهم كالمثال السابق..

### مشكلة حقيقية
ومع ذلك المشكلات المطروحة باﻷعلى يمكن تنفيذها، من الممكن تضييع أيام في كتابة ألف أمر طباعة مثلاً.. ليس مستحيلاً؛ لكن هناك مشكلات أخرى بنفس الطريقة مستحيل أن تتمكن من حلها! كيف..؟

تخيل أنك تريد برمجة برنامج يقوم بتغيير أسماء كل الملفات الموجودة في مجلد معين على حاسوبك، في هذه المشكلة أنت لا تعلم كم سيكون عدد الملفات ! فهناك مجلدات فيها آلاف الملفات، وهناك فيها مئات، وهناك فيها عشرات الملفات! إذن كيف ستنفذها..؟ هل ستكتب 1000 أمر لتغيير أسماء الملفات؟ لنفرض أن الملفات كانوا فقط 5! ولنفرض أنهم كانوا 2000! إذن لا يمكنك حل هذه المشكلة ولو حتى ستمكث أيام تكرر في اﻷوامر وتكتب آلاف اﻷسطر!

**وهنا يأتي دور الحلقات التكرارية لحل المشكلات السابقة بكل سهولة!**

## ما هي الحلفات التكرارية؟ (Loops)
هي عملية تكرار أمر أو عدة أوامر في البرنامج.

وهناك عدة أنواع من الحلقات التكرارية:
- while
- do... while
- for

وهناك أنواعاً أخرى من الحلقات التكرارية تختلف من لغة ﻷخرى، ويختلف أسماؤها ويختلف استخدامها، لكن كل الحلقات التكرارية هي نفس المفهوم وتؤدي نفس الغرض، فأساس الحلقات التكرارية هي `while` ولكن اشتقت منها حلقات تكرارية أخرى تكون أسرع وأسهل في حالات معينة!

<base-alert type="tip">

المفسر عندما يمر على الحلقة التكرارية فإنه يتحقق من الشرط، إذا كان الشرط `true` ينفذ اﻷوامر الموجودة بداخل الحلقة التكرارية ثم يعود مرة أخرى لبداية الحلقة التكرارية ليتحقق مرة أخرى من الشرط، فإذا كان الشرط ينتج عنه `true` سيقوم المفسر بتنفيذ الأوامر الموجودة بداخل الحلقة التكرارية مرة أخرى وتتكرر هذه العملية إلى أن يكون ناتج الشرط `false` فيتوقف المفسر عن التكرار ويمر على باقي الكود...

</base-alert>

واﻵن لنبدأ بكتابة كود أول حلقة تكرارية...

## While loop
هي النوع الرئيسي من الحلقات التكرارية، وبفهمها تكون أتقنت الحلقات التكرارية، أما باقي اﻷنواع فهي مشتقة منها لتسهّل الإستخدام في حالات معينة فقط.

### كيفية استخدام while
هل تتذكر درس الشروط بـ `if` ؟ لن يختلف الوضع كثيراً هنا... تُكتب الحلقة التكرارية بهذه الطريقة:
```js
while (/* الشرط هنا */){
  // أوامر الحلقة هنا
}
```

في المثال السابق تتكون الحلقة من:
- `while`
- **الشرط** ويوضع بين اﻷقواس
- **كتلة اﻷوامر**: أو نسميها (Block) وكما ذكرنا سابقاً في [درس بنية الكود](/tutorials/algorithms/fundamentals/syntax) ، فهي توضع بين `{}`

هذا هو أبسط شكل للحلقة التكرارية... لنجرب طباعة من 1 إلى 5:
```js
var i = 1;
while (i <= 5){
  console.log(i);
}
```
<base-alert type="error">

**ﻻ تجرب المثال السابق أبداً**: فهو حلقة لا نهائية! أي إذا شغلته لن يتوقف البرنامج عن التكرار، بالتالي ربما يتوقف جهازك أو يتوقف البرنامج الذي تشغل عليه الكود! وتسمى باﻹنجليزية (Infinite Loop)

</base-alert>

سنشرح المثال السابق خطوة خطوة، اﻵن كما قلنا بين اﻷقواس يوضع الشرط، وإذا كان ناتج هذا الشرط `true` سيقوم المفسر بتنفيذ كتلة اﻷوامر داخل الحلقة التكرارية ثم يعود للتحقق من الشرط مرة أخرى؛ فإذا تحقق الشرط وكان الناتج `true` سيقوم بالتكرار مرة أخرى وينفذ الكود ويعود ليتحقق وتكرر العملية هذه إلى أن ﻻ يتحقق الشرط ويكون ناتجه `false`

لكن في المثال السابق قلنا أن `i` تساوي `1` ثم وضعنا الشرط `i < 5` وبالتالي ناتج هذا الشرط `true` ﻷن الواحد أقل من 5! بالتالي سيقوم المفسر بتنفيذ كتلة اﻷوامر الموجودة داخل الحلقة التكرارية، أي سيطبع `1`، ثم يعود المفسر يتحقق من الشرط مرة أخرى، سيجد نفس الناتج `true` وتظل هذه العملية في تكرار إلى مالا نهاية!!

وبالتالي المثال السابق لا يمكن أن ينجح إلا إذا تغيرت قيمة i في وقت معين لتُصبح اكبر من `5` وبالتالي ﻻ يتحقق الشرط ويتوقف المفسر عن التكرار! لذلك يمكن حل المشكلة السابقة بشيء ﻻ تخلوا منه الحلقات التكرارية (التي تتعامل مع اﻷعداد) وهو أمر تغيير القيمة! لاحظ معي المثال التالي..

```js{4}
var i = 1;
while (i <= 5){
  console.log(i);
  i = i + 1;
}
```

في المثال السابق أضفنا سطر `i = i + 1` في نهاية كتلة اﻷوامر، فما فائدة هذا الأمر؟
هذا اﻷمر هو حل المشكلة التي تحدثنا عنها باﻷعلى، فبعد أن يتحقق الشرط ويدخل المفسر لتنفيذ كتلة اﻷوامر سيقوم بتنفيذ هذا اﻷمر في نهاية كتلة اﻷوامر ثم يعود ليتحقق من الشرط مرة أخرى، وهذا الأمر سيزود `1` على قيمة `i` الحالية!

### كيف تعمل الحلقات التكرارية؟
فلنتخيل ما سيحدث في المثال السابق:

**أولاً:** سيمر المفسر على الكود ليجد الحلقة التكرارية، سيتحقق من الشرط وهو `i <= 5` وقيمة `i` تساوي `1` إذن يكون الشرط `1 <= 5` وهذا الشرط ناتجه `true`

<br>

**ثانياً:** بما أن الشرط تحقق، سيقوم المفسر بتنفيذ اﻷوامر الموجودة بداخل الحلقة التكرارية:
- فيقوم بطباعة `i` وهي قيمتها الحالية `1` بالتالي سيطبع `1`
- ثم ينفذ اﻷمر التالي `i = i + 1` وهذا الأمر سيقوم بإضافة `1` على قيمة `i` وقيمة `i` في الوقت الحالي تساوي `1` إذن ستصبح `i` بعد هذا اﻷمر تساوي `2`

<br>

**ثالثاً:** يعود المفسر للتحقق من الشرط مرة أخرى! ويكون الشرط في هذه المرة `2 <= 5` ﻷن `i` أصبحت قيمتها `2` اﻵن! وهذا الشرط ناتجه `true` فيقوم المفسر مرة أخرى بتنفيذ كتلة اﻷوامر:
- فسيقوم بطباعة `i` وقيمتها حالياً أصبحت `2` بالتالي سيطبع `2`
- ثم ينفذ اﻷمر `i = i + 1` فتصبح قيمة `i` الجديدة تساوي `3`

ثم تتكرر نفس العملية مع `3` فيطبع المفسر `3` وتُصبح قيمة `i` تساوي `4`، ثم يطبع المفسر `4` وتصبح قيمة `i` تساوي `5`

<br>

**رابعاً:** سيعود المفسر ليتحقق من الشرط، واﻵن أصبحت قيمة `i` تساوي `5` فيكون الشرط هكذا `5 <= 5` وهذا الشرط يتحقق ﻷن `5` تساوي `5` بالتالي سينفذ المفسر كتلة اﻷوامر:
- يقوم بطباعة `5`
- يقوم بإضافة `1` إلى `i` **فتصبح قيمتها الجديدة `6`**

<br>

**أخيراً:** يعود المفسر للتحقق من الشرط مرة أخرى وقيمة `i` أصبحت `6` اﻵن... فيكون الشرط `6 <= 5` وهذا الشرط لا يتحقق ﻷن 6 ليست أقل من أو تساوي 5، بالتالي يكون الناتج `false` **فيمر المفسر هذه المرة بدون تنفيذ كتلة اﻷوامر وتكون انتهت الحلقة التكرارية!**

### طباعة اﻷعداد من 1 إلى 8
```js
var i = 1;
while (i <= 8){
  console.log(i);
  i = i + 1;
}
```
<code-result>

1
<br>
2
<br>
3
<br>
4
<br>
5
<br>
6
<br>
7
<br>
8
<br>

</code-result>
