---
title: المصفوفات (Arrays)
description: تعلم المصفوفات البرمجية وأهميتها واستخداماتها
position: 2
category: intermediate
createdAt: 1611421561524
updatedAt: 1612284278598
new: false
updated: false
contributors:
  - ebrahimmaher
---

## ما هي المصفوفات؟
المصفوفات هي نوع مهم من [أنواع البيانات (data types)](/tutorials/algorithms/fundamentals/datatypes) وتعتبر من أهم وأشهر [**هياكل البيانات (data structures**)](/tutorials/algorithms/intermediate/datastructures)

> وهي أشهر هياكل البيانات وأكثرها استخداما، وأبسط الطرق لتجميع البيانات، وتقريبا كل لغات البرمجة تحتوي على المصفوفات، ربما يتغير اسمها في لغة كلغة Python إلى "List" لكن اﻹسم اﻷشهر لها **المصفوفات Arrays**

فهي تستخدم في تخزين بيانات متعددة، على سبيل المثال لدينا عدد من المستخدمين في البرنامج، نريد أن ننشئ متغير نضع فيه أسماء كل مستخدمي البرنامج، يمكننا هنا استخدام المصفوفات `arrays` لتحتوي المصفوفة على أسماء كل مستخدمي البرنامج.

## أهمية المصفوفات
فكر معي في هذه المشكلات وتخيل كم سيكون صعباً التعامل معها وحلها بما تعلمت حتى اﻵن بدون المصفوفات.

### مشكلة عدد مستخدمي البرنامج
تخيل أنك تريد الوصول لعدد مستخدمي البرنامج، كيف تصل له؟ ببساطة يمكنك وضع كل مستخدمي البرنامج في مصفوفة، واستخدام خاصية من خصائص المصفوفة لمعرفة عدد العناصر الموجودة في المصفوفة، بالتالي يكون عدد العناصر هو عدد مستخدمي البرنامج!

> سندرس خاصية طول المصفوفة في هذا الدرس

### مشكلة الدول المتعددة
لنفرض أن لديك عدد من الدول مسموح بها فقط في البرنامج الخاص بك، فإن كانت دولة المستخدم ليست في هذه الدول ستمنعه من البرنامج، كيف يمكن حل المشكلة؟ لقد تعلمنا سابقاً باستخدام الشروط يمكننا التحقق مثلاً من أن المتغير يساوي كذا أم ﻻ:

```js
var country = ""; // put country here
var allowed = "Syria";
if (country == allowed){
  console.log("أهلا بك في البرنامج");
}else{
  console.log("البرنامج غير متوفر في دولتك");
}
```

في المثال السابق سيسمح البرنامج فقط بدولة سوريا، أما إن كان المتغير `country` يساوي أي دولة غير سوريا سيتم طباعة "البرنامج غير متوفر في دولتك".


لكن ليس هذا ما نريده، نريد أن نسمح بأكثر من دولة، مثلاً سوريا وفلسطين ومصر ..! نريد أن نتحقق هل دولة المستخدم من هذه الدول المسموح بها أم ﻻ، وإن كان ﻻ نريد أن نقوم بطباعة الدول المسموح بها! لذلك لا بد من نوع جديد من البيانات يسهل علينا هذه اﻷمور ويسمح لنا بتخزين الدول المسموح بها في متغير واحد، ويعطينا إمكانية مثلاً طباعة كل الدول الموجودة في المتغير، واستخدام الحلقات التكرارية للمرور داخل هذه الدول وطباعة كل دولة .. الخ

## المصفوفات برمجياً
**يمكن استخدام المصفوفات لتجميع البيانات** وتتعامل كأي نوع بيانات، فيمكن إرفاقها لمتغير، ويمكن طباعتها .. لكن التعبيرات الخاصة بالمصفوفات تختلف جداً عن أي نوع أخر من البيانات، فلا يمكن جمعها بعلامة "+" كاﻷعداد مثلاً .. 

### طريقة كتابة المصفوفات
توضع عناصر المصفوفة داخل اﻷقواس `[]` ويمكن أن تكون البيانات أي نوع من البيانات، يمكن أن تكون نصوصا، أعدادا، عناصر منطقية .. الخ، وتفصل بين كل عنصر واﻷخرى بـ `,` `[1, 2, 3, 4]`

### أمثلة على المصفوفات
```js
var emptyArray = []; // مصفوفة فارغة
var emptyArray = [1, 10, 20, 30, 40, 40, 20, 30]; // مصفوفة من اﻷعداد
var emptyArray = ["javascript", "nodejs", "vscode"]; // مصفوفة من النصوص
var emptyArray = [100, "dalilmobarmg", true]; // مصفوفة متنوعة
```
<base-alert type="warning">

هناك لغات برمجة لا تدعم المصفوفة المتنوعة، فيجب أن تكون كل عناصر المصفوفة من نفس النوع، لكن في **جافاسكريبت** وبعض اللغات (PHP, Python...) يمكن أن تختلف أنواع عناصر المصفوفة

</base-alert>

<br>

وكما ناقشنا في المشكلة السابقة نريد أن نضع أسماء عدة دول في متغير واحد، كيف؟
```js
var countries = ["Palestine", "Syria", "Egypt"];
```

## أساسيات المصفوفات
يمكنك الوصول لأي عنصر من عناصر المصفوفة واستخدامه، وتعديل العناصر وإضافة عنصر جديد ... والمزيد من العمليات الأخرى

### الوصول لعناصر المصفوفة
كيف نصل للعناصر الموجودة في المصفوفة؟ كيف مثلاً نقوم بطباعة عنصر من عناصر المصفوفة، أو مثلاً وضعه كقيمة لمتغير، أو استخدامه في أي شيء!
من أهم صفات المصفوفات أن لكل عنصر فيها **مفتاح** خاص به، هو عبارة عن **ترتيبه في المصفوفة**، ويسمى باﻹنجليزية (index) ولأن الحاسوب كما نعرف **يبدأ العد من صفر وليس واحد** فإن العنصر اﻷول في المصفوفة السابقة `"Palestine"` مفتاحه `0` وكذلك العنصر الثاني `"Syria"` مفتاحه `1` وهكذا... 

وإذا كان إسم المصفوفة `countries` فإن العنصر اﻷول فيها يمكنك الوصول له عن طريق مفتاحه كالتالي: `countries[0]`

جرب اﻷمثلة التالية:
```js
var countries = ["Palestine", "Syria", "Egypt"];
console.log(countries[0]);
```
<code-result>
Palestine
</code-result>

> في المثال السابق قمنا بطباعة العنصر اﻷول من المصفوفة countries

<base-alert type="warning">

**تذكر أن** الحاسوب يبدأ العدّ دائماً من **صفر** وليس من **واحد**

</base-alert>

<base-alert type="error">

**تذكر مرة أخرى** الحاسوب يبدأ العدّ دائماً من **صفر** وليس من **واحد** بالتالي العنصر الثالث يعتبره الحاسوب رقم **2** ويجب أن تضع هذا في اﻹعتبار دائماً وإلا ستحدث أخطاء كارثية

</base-alert>

<br>

```js
var numbers = [10, 20, 30];
console.log(numbers[0]);
console.log(numbers[1]);
console.log(numbers[2]);
```
<code-result>
10
<br>
20
<br>
30
</code-result>

> في المثال السابق قمنا بطباعة العنصر اﻷول (مفتاحه **0**) ثم طباعة الثاني (مفتاحه **1**) ثم طباعة الثالث من المصفوفة `[10, 20, 30]`

```js
var numbers = [10, 20, 30];
var result = numbers[0] * numbers[1];
console.log(result);
```
<code-result>
200
</code-result>

> في المثال السابق قمنا بطباعة حاصل ضرب العنصرين اﻷول والثاني من المصفوفة numbers.. ***10 * 20 = 200***

> لاحظ أننا أنشأنا متغير اسميناه `result` وتساوي قيمته حاصل ضرب العنصر اﻷول `numbers[0]` والعنصر الثاني `numbers[1]`

#### الوصول ديناميكياً لعناصر المصفوفة
يمكن وضع أي تعبير برمجي (expression) بين `[]` وليس مجرد عدد، جرب اﻷمثلة التالية:

```js
var numbers = [10, 20, 30];
var i = 0;
console.log(numbers[i]);
console.log(numbers[i+1]);
console.log(numbers[i+2]);
```
<code-result>
10
<br>
20
<br>
30
</code-result>

<base-alert type="info">

عندما يمر المفسر على الكود `numbers[i]` سيقوم أولاً بتنفيذ التعبير الموجود داخل اﻷقواس ثم استخدام ناتج التعبير كمفتاح، فبما أن `i` تساوي 0 إذن سيعتبر المفسر أن `numbers[i]` تساوي `numbers[0]` وكذلك إن قلنا `numbers[1+1]` سيقوم المفسر أولاً بتنفيذ عملية الجمع بين اﻷقواس ثم يتعامل كأنك كتبت `numbers[2]`

</base-alert>


### تعديل عناصر المصفوفة
كما تعلمنا في درس المتغيرات أننا يمكننا الوصول للمتغير بإسمه، ويمكننا إرفاق قيمة له وتعديل قيمته باستخدام علامة `=` مثال: `i = 10` فهنا في المصفوفات نفس الشيء، يمكننا الوصول لعنصر من المصفوفة عن طريق اسم المصفوفة ومفتاح العنصر، وكذلك يمكننا ارفاق قيمة أخرى لهذا العنصر باستخدام العلامة `=`

```js
var numbers = [10, 20, 30];
console.log(numbers[0]);
numbers[0] = 15;
console.log(numbers[0]);
```
<code-result>
10
<br>
15
</code-result>

<expand full button-text="شرح الكود">

- قمنا بإنشاء متغير قيمته المصفوفة العددية `[10, 20, 30]`
- قمنا بطباعة العنصر اﻷول من المصفوفة وهو `10`
- قمنا بتغيير قيمة العنصر اﻷول من المصفوفة من **10** إلى **15** باستخدام العلامة `=`
- قمنا بطباعة العنصر اﻷول من المصفوفة بعد تغييره، فقام المفسر بطباعة `15` وهو العنصر الجديد

</expand>

### إضافة عنصر غير موجود إلى مفتاح معين
جرب الوصول لعنصر غير موجود، مثلاً العنصر الرابع من المصفوفة `[10, 20, 30]` ستجد أن الناتج `undefined` أي غير معرف، وفي معظم لغات البرمجة اﻷخرى سيعطي المفسر خطأ، 

جرب بنفس طريقة تعديل العناصر تعديل عنصر بمفتاح غير موجود، مثلاً المصفوفة فيها 3 عناصر، جرب تعديل العنصر الرابع `numbers[3]` وستجد أن المفسر يقوم بإرفاق القيمة لهذا العنصر!


مثال إضافة عنصر رابع للمصفوفة:
```js
var numbers = [10, 20, 30];
console.log(numbers[3]);
numbers[3] = 40;
console.log(numbers[3]);
```
<code-result>
undefined
<br>
40
</code-result>

> المثال السابق يطبع العنصر الرابع (غير موجود) ثم يقوم بإرفاق قيمة له وطباعته مرة أخرى فيطبع قيمته وهي 40

مثال آخر لتعديل قيمة العنصر الثامن في المصفوفة!

```js
var numbers = [10, 20, 30];
numbers[8] = 80;
console.log(numbers[8]);
console.log(numbers);
```
<code-result>
80
<br>
[10, 20, 30, , , , , , 80]
</code-result>

> في المثال السابق هناك قيم فارغة، مثلاً العنصر الرابع والخامس .. أما العنصر الثامن قيمته 80

> يمكن استخدام هذه الطريقة لإضافة عنصر لمفتاح معين، أما إضافة عنصر لآخر أو أول المصفوفة سندرسهم بعد قليل

## دوال وخصائص المصفوفة (methods and properties)
للمصفوفات دوال مدمجة باللغة، فكل لغة برمجة تقدم دوال وخصائص تساعدك في التحكم بالمصفوفة والتعديل عليها، سندرس منها الدوال اﻷساسية والموجودة في كل اللغات تقريباً لكن في المراحل المتقدمة ستعرف المزيد من الدوال، وربما تجد دوال متقدمة ودوال موجودة في لغات وفي لغات أخرى ﻻ.

### معرفة عدد عناصر المصفوفة (طولها)
هناك خاصية في المصفوفات يمكننا استخدامها لمعرفة عدد عناصر المصفوفة! وهي الخاصية `length` وتعني بالعربية "طول" وباستخدامها يمكننا بسهولة معرفة طول المصفوفة
> هذه الخاصية هي الحل لمشكلة عدد مستخدمي البرنامج التي ذكرناها في أول الدرس

```js
var numbers = [10, 20, 30];
console.log(numbers.length);
```
<code-result>
3
</code-result>

<base-alert type="info">

ستختلف طريقة كتابتها من لغة ﻷخرى، في جافاسكريبت مثلاً نستخدم النقطة "." ثم نضع اسم الخاصية `length` أما في لغات أخرى ربما تكون دالة وليست خاصية، مثلاً الدالة `len()` أو `count()` وهكذا، لكن المفهوم واحد بين كل اللغات

</base-alert>

#### استخدام حقيقي لطول المصفوفة
يمكنك استخدام طول المصفوفة لحل المشكلة المذكورة في بداية الدرس "معرفة عدد مستخدمي البرنامج"، أيا كان العدد وأيا كان تغير أم ﻻ، فمثلاً إن كنت مستقبلاً مبرمج مواقع وتقوم ببرمجة لوحة تحكم للموقع، يجب أن يظهر في لوحة التحكم احصائيات منها عدد المستخدمين، هنا ما تحتاجه فقط هو مصفوفة فيها المستخدمين ثم يمكنك الوصول لطول المصفوفة `.length` بسهولة لتعرف عدد المستخدمين برمجياً.

#### تعديل العنصر اﻷخير في المصفوفة بدون معرفة مفتاحه
يمكننا باستخدام **طول المصفوفة** تعديل العنصر اﻷخير بدون معرفة مفتاحه! كيف؟ فكرّ فيها قليلاً... المصفوفة عندما تكون من ثلاثة عناصر كم يكون مفتاح العنصر اﻷخير؟ بالتأكيد `2` ﻷن الحاسوب يبدأ عد من الصفر، كذلك إن كانت المصفوفة من 5 عناصر كم يكون مفتاح العنصر اﻷخير؟ `4` إذن مفتاح العنصر اﻷخير هو طول المصفوفة مطروحا منه واحد! أي `array.length - 1`
```js
var numbers = [10, 20, 30];
console.log( numbers[ numbers.length-1 ] );
numbers[numbers.length-1] = 35;
console.log( numbers[ numbers.length-1 ] );
```
<code-result>
30
<br>
35
</code-result>

> وضعنا مسافات بين اﻷقواس وما بداخلها لتكون القراءة سهلة، لكن يمكنك حذفها

<expand full button-text="شرح الكود">

- قمنا بإنشاء متغير قيمته المصفوفة العددية `[10, 20, 30]`
- قمنا بطباعة العنصر اﻷخير من المصفوفة وهو `30` باستخدام المفتاح `numbers.length - 1` الذي يساوي `3-1` أي يساوي `2`
- قمنا بتغيير قيمة العنصر اﻷخير من **30** إلى **35** باستخدام العلامة `=`
- قمنا بطباعة العنصر اﻷخير من المصفوفة بعد تغييره، فقام المفسر بطباعة `35` وهو العنصر الجديد

</expand>

<br>

<base-alert type="tip">

عندما يمر المفسر على `numbers[numbers.length-1]` فإنه يقوم بتفسير التعبير الموجود بين اﻷقواس أولاً ثم استخدام الناتج كمفتاح، ففي حالتنا يكون ناتج التعبير يساوي `3-1` يساوي `2` إذن يتعامل المفسر مع الكود على أنه `numbers[2]`

</base-alert>

### إضافة عنصر جديد للمصفوفة
يمكنك استخدام الدالة `push()` المدمجة في جافاسكريبت لإضافة عنصر جديد إلى المصفوفة (إلى آخرها) ويوضع العنصر الجديد كمُدخل للدالة بين اﻷقواس

```js
var numbers = [10, 20];
console.log(numbers);
numbers.push(30);
console.log(numbers);
```
<code-result>
[10, 20]
<br>
[10, 20, 30]
</code-result>

<quiz>

جرب إضافة عنصر إلى المصفوفة باستخدام `length` بدلاً من الدالة الجاهزة `push()`

</quiz>

<expand full button-text="مساعدة" hide-text="إخفاء المساعدة">

استخدم طريقة تعديل عناصر المصفوفة في تعديل مفتاح العنصر التالي للعنصر اﻷخير في المصفوفة، فمثلاً إن كانت المصفوفة من 3 عناصر يكون مفتاح العنصر اﻷخير **2** إذن مفتاح العنصر الجديد سيكون **3** وهو نفسه طول المصفوفة، يمكنك تعديل قيمة العنصر الذي مفتاحه يساوي طول المصفوفة `array.length` [بالطريقة التي ذكرناها باﻷعلى](#إضافة-عنصر-غير-موجود-إلى-مفتاح-معين)

</expand>

### حذف عنصر من المصفوفة
يمكنك حذف **العنصر اﻷخير** من المصفوفة بسهولة باستخدام الدالة `pop()` وستجد هذه الدالة في معظم لغات البرمجة، أحياناً بنفس الإسم وأحيانا يتغير...

```js
var numbers = [10, 20, 30];
numbers.pop();
console.log(numbers);
```
<code-result>
[10, 20]
</code-result>

## الوصول لكل عناصر المصفوفة
الوصول لكل عناصر المصفوفة عملية مهمة جداً عملياً وهي من أهم ما ستحتاجه عندما تتعامل مع المصفوفات، فمثلاً قمنا بتخزين المنشورات في مصفوفة… واﻵن نريد مثلاً أن نصل لكل منشور لنعرضه للمستخدم، كيف نتمكن من تنفيذها؟ أو مثلاً في مشكلة الدول المتعددة التي ذكرناها أول الدرس، 
نريد الوصول لكل الدول الموجودة في المصفوفة لنتحقق من دولة المستخدم هل هي تساوي دولة من الدول الموجودة في المصفوفة فنمسح له أم ﻻ!

### استنتاج حل مشكلة الوصول لكل العناصر

اﻵن لدينا مشكلة برمجية، وهي أننا نريد الوصول لكل عناصر المصفوفة، ولكن هناك بعض اﻷمور التي تعلمناها ستساعدنا في حل المشكلة، حاول استنتاج الحل منها:

- **الحلقات التكرارية:** تعلمناها سابقاً في [درس الحلقات التكرارية](/tutorials/algorithms/fundamentals/loops) وبها يمكننا تكرار تنفيذ كتلة من اﻷوامر لعدد معين من المرات، أو لحين عدم تحقق شرط الحلقة، فبالتالي يمكننا مثلاً إنشاء متغير عدّاد اسمه `i` يبدأ من 0 وتتكرر الحلقة 5 مرات مثلاً أو أي عدد من المرات.
- **طول المصفوفة:** تعلمنا في هذا الدرس الحصول على طول المصفوفة باستخدام الخاصية `length`
- **الوصول لعناصر المصفوفة بالمفتاح index**: تعلمنا في هذا الدرس الوصول لأي عنصر من عناصر المصفوفة باستخدام مفتاحه index، وهذا المفتاح يكون ترتيبه

<quiz>

فكر كيفية الوصول لكل عناصر المصفوفة باستخدام ما ذكرنا في النقاط السابقة

</quiz>

<br>
<br>

### فكرة حل مشكلة الوصول لكل عناصر المصفوفة
يمكننا الوصول لكل عناصر المصفوفة باستخدام الحلقات التكرارية عن طريق:

- **إنشاء حلقة تكرارية تتكرر عدد من المرات يساوي طول المصفوفة:** فإن كانت المصفوفة تتكون من 10 عناصر سنقوم بإنشاء حلقة تكرارية تتكرر 10 مرات
- **الحلقة التكرارية تبدأ من صفر:** ﻷن أول عنصر في المصفوفة مفتاحه 0، بالتالي متغير العداد للحلقة التكرارية `i` مثلاً سيساوي صفر
- **نستخدم متغير العداد كمفتاح للوصول لعناصر المصفوفة داخل كتلة أوامر الحلقة:** بما أن الحلقة التكرارية ستبدأ من صفر، وتتكرر بعدد عناصر المصفوفة، إذن إن كانت المصفوفة من 10 عناصر ستتكرر الحلقة 10 مرات وفي كل دورة تتغير قيمة متغير العداد، مثلاً في أول دورة يكون 0 ثم 1 ثم 2، وبالتالي يمكننا استخدامه `array[i]` للوصول للعنصر الحالي في المصفوفة، بالتالي في الدورة اﻷولى ستكون قيمة متغير العداد `i` تساوي 0، إذن `array[i]` تساوي العنصر اﻷول من المصفوفة، وهكذا مع كل دورة من دورات الحلقة التكرارية يمكننا الوصول لعنصر!

### مثال الوصول لكل عناصر المصفوفة
```js
var countries = ["Palestine", "Syria", "Egypt"];
var i = 0;
while (i < countries.length){
  console.log( countries[i] );
  i = i + 1;
}
```
<code-result>
Palestine
<br>
Syria
<br>
Egypt
</code-result>

<expand full button-text="شرح آلية عمل المفسر">

- يبدأ المفسر بإنشاء المتغير `countries` قيمته مصفوفة من أسماء ثلاثة دول
- ثم يقوم المفسر بإنشاء متغير العداد `i` يبدأ من `0` ﻷن العنصر اﻷول من المصفوفة مفتاحه يكون 0
- ثم يقوم المفسر بالتكرار:
  - شرط الحلقة التكرارية أن `i` أقل من طول المصفوفة `countries.length` بالتالي سيكون `i < 3` وسيظل المفسر ينفذ كتلة أوامر الحلقة التكرارية مادام يتحقق الشرط
  - **الدورة اﻷولى:** قيمة `i` تساوي صفر، فيتحقق المفسر `0 < 3` فيكون الناتج `true` إذن يقوم بتنفيذ كتلة اﻷوامر، يطبع: `countries[i]` يعني سيطبع `countries[0]` وهو العنصر اﻷول من المصفوفة `"Palestine"`
  - ثم يقوم المفسر بزيادة قيمة متغير العداد `i` فتصبح قيمته الجديدة `2`
  - **الدورة الثانية:** يقوم المفسر بالتحقق من الشرط `1 < 3` فيتحقق وينفذ كتلة اﻷوامر فيطبع `countries[1]` وهو العنصر الثاني وتزداد قيمة `i` فتصبح 2
  - **الدورة الثالثة:** يقوم المفسر بالتحقق من الشرط  `2 < 3` يتحقق الشرط ويقوم بتنفيذ كتلة اﻷوامر، فيطبع `countries[2]` وهو العنصر الثالث واﻷخير وتزداد قيمة `i` لتصبح `3`
  - ثم يتحقق المفسر بالتحقق من الشرط `3 < 3` لا يتحقق الشرط ﻷن 3 ليست أقل من 3، فتنتهي الحلقة التكرارية!

</expand>

<br>

الكود السابق يقوم بطباعة كل عنصر من عناصر المصفوفة منفرداً

<base-alert type="warning">

لاحظ أن الشرط `i < countries.length` نستخدم فيه العلامة أقل من `<`، ولو استخدمنا العلامة `<=` سيتحقق الشرط أيضاً مع `3` وبالتالي لن يجد المفسر العنصر `countries[3]` ﻷن هذا هو العنصر الرابع، والمصفوفة تتكون من ثلاثة عناصر فقط.

<br>

ويمكن أيضاً استخدام الشرط `i <= countries.length - 1` سيؤدي نفس الغرض! ﻷنه سيكون `i <= 2` بالتالي سيتحقق مع 2 ولن يتحقق مع 3 ﻷن 3 أكبر من 2، فأياً كان الشرط المستخدم وأيا كانت الطريقة، المهم أنك فهمت خوارزمية الحل!

</base-alert>


## حل مشكلة الدول المتعددة (مثال)
اﻵن يمكننا باستخدام ما تعلمنا حل مشكلة الدول المتعددة التي ذكرناها في أول الدرس، فيمكننا اﻵن وضع عدد من الدول في مصفوفة وتكون هذه الدول هي الدول المسموح بها، وطباعة "أهلاً بك في البرنامج" إن كانت دولة المستخدم من الدول المسموح بها أو طباعة "البرنامج غير متوفر في دولتك" إن كان دولة المستخدم ليست من الدول المسموح بها.

> سنستخدم [الشروط `if`](/tutorials/algorithms/fundamentals/if-statement) للتحقق

```js
var userCountry = "Syria"; // Enter user country here
var countries = ["Palestine", "Syria", "Egypt"];
var allowed = false;

var i = 0;
while (i < countries.length){
  if( countries[i] == userCountry ){
    allowed = true;
  }
  i = i + 1;
}

if (allowed){
  console.log("أهلاً بك في البرنامج");
}else{
  console.log("البرنامج غير متوفر في دولتك");
}
```
<code-result rtl>
أهلاً بك في البرنامج
</code-result>

> جرب اﻵن تغيير قيمة `userCountry` إلى أي دولة أخرى، مثلاً `USA` سيقوم المفسر بطباعة "غير مسموح لدولتك ..." ﻷن الدولة ليست من الدول المسموح بها، الموجودة في المصفوفة

<expand full button-text="شرح الكود">

- في الكود السابق أنشأنا متغير لتخزين اسم دولة المستخدم، واسمه `userCountry` ثم وضعنا قيمته سوريا، ويمكن تغييرها ﻷي دولة لإختبار الكود
- ثم أنشأنا متغير `countries` وقيمته مصفوفة الدول المسموح بها
- ثم أنشأنا متغير اسمه `allowed` وقيمته `false` وسنقوم بتغيير قيمته إلى `true` إن اكتشفنا أن الدولة من الدول المسموح بها! غير ذلك نتركه كما هو `false`
- اﻵن وقت التحقق من هل دولة المستخدم من الدول المسموح بها أم ﻻ، لذلك سننشئ حلقة تكرارية تساعدنا على الوصول لكل عناصر مصفوفة الدول المسموح بها
- ولكل دولة من الدول المسموح بها نتحقق هل هذه الدولة تساوي دولة المستخدم `userCountry` أم ﻻ، إن كانت تساويها نقوم بتغيير قيمة `allowed` إلى `true` أما إن كانت لا تساويها لن نغيّر أي شيء، فقيمة `allowed` ستبقى `false`
- إن انتهت الحلقة التكرارية وكانت دولة المستخدم من الدول المسموح بها، ستصبح قيمة `allowed` بعد الحلقة التكرارية تساوي `true` أما غير ذلك ستكون كما هي `false`
- اﻵن نتحقق باستخدام if الشرطية.. هل `allowed` تساوي `true`، إن كانت فسنقوم بطباعة "أهلا بك في البرنامج" غير ذلك نطبع "البرنامج غير متوفر في دولتك"
</expand>

### تحسين برنامج الدول المسموح بها بالدوال
اﻵن نريد استخدام الدوال في تحسين وتسهيل استخدام البرنامج السابق، حتى نتمكن من استدعاء الدالة وإدخال دولة المستخدم كمُدخل للدالة والدالة تتحقق وتطبع هل الدولة مسموح بها أم ﻻ!
> ارجع إلى [درس الدوال](/tutorials/algorithms/fundamentals/functions) للمراجعة أو لتعلم الدوال إن كانت جديدة عليك

> هذا المثال يعتمد على معرفتك بالدوال، وليس له علاقة بدرس اليوم... فقط تطبيق على الدوال

```js
function countryIsAllowed(userCountry){
  var countries = ["Palestine", "Syria", "Egypt"];
  var allowed = false;

  var i = 0;
  while (i < countries.length){
    if( countries[i] == userCountry ){
      allowed = true;
    }
    i = i + 1;
  }

  if (allowed){
    console.log("أهلاً بك في البرنامج");
  }else{
    console.log("البرنامج غير متوفر في دولتك");
  }
}

countryIsAllowed("Egypt");
countryIsAllowed("USA");
countryIsAllowed("England");
countryIsAllowed("Palestine");
countryIsAllowed("Syria");
```
<code-result rtl>

أهلاً بك في البرنامج
<br>
البرنامج غير متوفر في دولتك
<br>
البرنامج غير متوفر في دولتك
<br>
أهلاً بك في البرنامج
<br>
أهلاً بك في البرنامج

</code-result>

> في المثال السابق أنشأنا دالة، وقمنا باستدعاءها 5 مرات لتنفيذها على 5 دول مختلفة.

## تمارين على المصفوفات

<quiz label="تمرين 1">

قم بكتابة دالة `printInLine(array)` تأخذ مصفوفة كمُدخل وتقوم بطباعة كل عناصرها في سطر واحد وتفصل بينهم بمسافة `" "`.
مثلاً `printInLine([1, 2, 3])` تطبع سطر يحتوي على `1 2 3`، و `printInLine(["Palestine", "Syria"])` تطبع سطر يحتوي على `Palestine Syria`

</quiz>
<expand full button-text="خوارزمية الحل" hide-text="إخفاء">

- داخل الدالة قم بإنشاء متغير قيمته نص فارغ وليكن اسمه `line` وقيمته `""`
- قم بالوصول لكل عناصر المصفوفة `array` باستخدام الحلقة التكرارية وداخل الحلقة التكرارية قم بالتالي:
  - باستخدام دمج النصوص "Concatenation" قم بدمج العنصر الحالي مع `line` مع مسافة، مثلاً: `line = line + array[i] + " "`
- قم بطباعة المتغير `line`
- قم باستدعاء الدالة أكثر من مرة لتجربتها على مصفوفات مختلفة
</expand>


<quiz label="تمرين 2">

قم كتابة دالة اسمها `filter` تأخذ مصفوفة من اﻷعداد كمُدخل: `filter(numbers)`، وتقوم بطباعة **مصفوفة** تحتوي على اﻷعداد اﻷقل من 10 من المصفوفة اﻷولى `numbers`، مثلاً الدالة `filter([1, 3, 7, 15, 12, 14])` تقوم بطباعة `[1, 3, 7]` فقط.

</quiz>
<expand full button-text="خوارزمية الحل" hide-text="إخفاء">

- داخل الدالة قم بإنشاء مصفوفة فارغة وليكن اسمها `result`
- قم بالوصول لكل عناصر مصفوفة اﻷعداد `numbers` باستخدام الحلقة التكرارية وداخل الحلقة التكرارية قم بالتالي:
  - استخدم `if` في التحقق ما إذا كان العدد أقل من 10
  - إذا كان العدد أقل، قم بإضافته للمصفوفة `result` باستخدام الدالة `push()`
- خارج الحلقة التكرارية وبعد إنتهاءها، قم بطباعة المصفوفة `result`
- قم باستدعاء الدالة أكثر من مرة لتجربتها على مصفوفات مختلفة
</expand>


<quiz label="تمرين 3">

قم بكتابة دالة `sum(numbers)` تأخذ مصفوفة من اﻷعداد كمُدخل وتقوم بطباعة **مجموع كل اﻷعداد الموجودة في المصفوفة**
مثلاً: `sum([5, 10, 10, 5])` تقوم بطباعة `30`

</quiz>
<expand full button-text="خوارزمية الحل" hide-text="إخفاء">

- داخل الدالة قم بإنشاء متغير `result` قيمته 0 لنقوم لاحقاً بجمعه مع كل أعداد المصفوفة.
- قم بالوصول لكل عناصر مصفوفة اﻷعداد `numbers` باستخدام الحلقة التكرارية وداخل الحلقة التكرارية قم بالتالي:
  - باستخدام أحد تعبيرات اﻷعداد وهو الجمع، قم بجمع العدد الحالي على قيمة المتغير `result` كالتالي: `result = result + numbers[i]`
- خارج الحلقة التكرارية وبعد إنتهاءها، قم بطباعة المتغير `result`
- قم باستدعاء الدالة أكثر من مرة لتجربتها على مصفوفات مختلفة
</expand>



<quiz label="تمرين متقدم">

قم بكتابة دالة `largest(numbers)` تأخذ مصفوفة من اﻷعداد كمُدخل وتقوم بطباعة **العدد اﻷكبر**
مثلاً: `largest([5, 10, 17, 5])` تقوم بطباعة `17`

</quiz>

<expand full button-text="كود الحل" hide-text="إخفاء الكود">

```js
function largest(numbers){
  var largestNum = numbers[0];
  var i = 0;
  while (i < numbers.length){
    if (numbers[i] > largestNum){
      largestNum = numbers[i];
    }
    i = i + 1;
  }
  console.log(largestNum);
}

largest([5, 10, 17, 5]);
largest([5, 30, 45, 15]);
```
<code-result>
17
<br>
45
</code-result>


<expand full button-text="شرح الكود" hide-text="إخفاء الشرح">

- قمنا بإنشاء متغير `largestNum` سيحتوي على قيمة العدد اﻷكبر، قيمته تساوي العنصر اﻷول من المصفوفة، بحيث نبدأ به.
- قمنا بإنشاء حلقة تكرارية للوصول لكل عناصر المصفوفة، ومع كل عدد نقوم بالتالي:
  - استخدمنا `if` الشرطية في التحقق من إن كان العدد أكبر من قيمة المتغير `largestNum` إذن نقوم بتغيير قيمة `largestNum` لتصبح هي العدد الحالي، ﻷنه حتى اﻵن هو اﻷكبر
- وستتكرر العملية السابقة مع كل اﻷعداد، فإن كان العدد أكبر من `largestNum` يصبح هو `largestNum` وهكذا... 
- بعد إنتهاء الحلقة التكرارية نقوم بطباعة `largestNum`
 
</expand>

</expand>
