---
title: الحلقات التكرارية (متوسط)
description: استكمال شرح الحلقات التكرارية (مستوى متوسط)
position: 13
category: intermediate
createdAt: 1615281154420
updatedAt: 1615281154420
new: false
updated: false
contributors:
  - ebrahimmaher
---
## مقدمة

<base-alert type="next">

هذا الدرس تكملة لدرس [الحلقات التكرارية (مستوى ابتدائي)](/tutorials/algorithms/fundamentals/loops) لذلك ننصح بمراجعة درس المستوى اﻹبتدائي قبل قراءة هذا الدرس

</base-alert>

## الحلقات التكرارية المتداخلة (Nested Loops)

يمكن إنشاء حلقة تكرارية بداخل حلقة تكرارية، فكما قلنا كل حلقة تكرارية لها كتلة أوامر **Block** والكتلة ممكن أن تتكون من عدة أوامر، وبالتالي يمكن أن نضع بداخل الكتلة حلقات تكرارية أخرى أو شروط أو أي أوامر!

### طباعة اﻷعداد من 1 إلى 4 ثلاث مرات
هذا المثال سيطبع اﻷعداد من 1 إلى 4 ثلاث مرات متتالية، عن طريق الحلقات التكرارية المتداخلة...
- هناك حلقة تكرارية تتكرر 4 مرات لتطبع اﻷعداد من 1 إلى 4
- وهناك حلقة تكرارية أخرى تضم بداخلها الحلقة التكرارية اﻷولى، وتتكرر ثلاث مرات، بالتالي تتسبب في تكرار طباعة اﻷعداد 3 مرات

```js
var i = 1;
while (i <= 3){
  var n = 1;
  while(n <= 4){
    console.log(n);
    n = n + 1;
  }
  i = i + 1;
}
```
<expand full button-text="عرض الناتج">

<code-result>
1
<br>
2
<br>
3
<br>
4
<br>
1
<br>
2
<br>
3
<br>
4
<br>
1
<br>
2
<br>
3
<br>
4
</code-result>

</expand>

> جرب المثال السابق في ***محرر دليل مبرمج*** السريع أو محرر النصوص ***vscode***


<base-alert type="warning">

**متغير العداد** يجب أن يكون مختلف في كل حلقة، لا تستخدم متغير عداد واحد ﻷكثر من حلقة تكرارية

</base-alert>


#### وضع مسافة (سطر فارغ) بين المرات الثلاثة
ويمكننا تحسين المثال السابق عن طريق وضع سطر فارغ بين كل مرة من الثلاث مرات، ولكن كيف تنفيذها؟ بسيطة نتحقق عن طريق `if` إذا كان الرقم الحالي هو **4** (آخر رقم في حلقة طباعة اﻷرقام) إذن نقوم بطباعة سطر فارغ `""`.

```js
var i = 1;
while (i <= 3){
  var n = 1;
  while(n <= 4){
    console.log(n);
    if (n == 4){
      console.log("");
    }
    n = n + 1;
  }
  i = i + 1;
}
```

ويمكننا تنفيذ نفس الفكرة السابقة بحل أفضل، نضع أمر الطباعة خارج الحلقة التكرارية الداخلية، بحيث في كل دورة من دورات الحلقة التكرارية الخارجية يقوم المفسر بطباعة اﻷعداد من 1 إلى 4 ثم يقوم بطباعة سطر جديد فارغ، ثم يعود ليكرر نفس العملية

```js
var i = 1;
while (i <= 3){
  var n = 1;
  while(n <= 4){
    console.log(n);
    n = n + 1;
  }
  
  console.log("");

  i = i + 1;
}
```

<expand full button-text="عرض الناتج">

<code-result>
1
<br>
2
<br>
3
<br>
4
<br>
<br>
1
<br>
2
<br>
3
<br>
4
<br>
<br>
1
<br>
2
<br>
3
<br>
4
</code-result>

</expand>





<quiz label="تمرين متقدم">

قم بكتابة دالة تأخذ العدد `rows` كمُدخل وتقوم بطباعة شكل مثلث قائم من النجوم `*` عدد صفوفه `rows`.

>مثال:  عندما قيمة `rows` تساوي `4` يجب أن يكون الناتج:
<code-result>
*
<br>
**
<br>
***
<br>
****
</code-result>

<expand full button-text="الحصول على مساعدة" hide-text="إخفاء">

> سنستخدم **الحلقات التكرارية المتداخلة** (nested loops) فهناك حلقة تتكرر بعدد الصفوف، وحلقة تتكرر بعدد النجوم في كل صف، أيضاً سنستخدم **دمج النصوص** (concatenation) لدمج النجوم في كل صف.

</expand>

</quiz>

<expand full button-text="عرض الخوارزمية" hide-text="إخفاء الخوارزمية">

- قم بتعريف الدالة، تأخذ `rows` كمُدخل
- ننشئ متغير `r` وقيمته `1` ليكون متغير العداد للحلقة التكرارية اﻷولى، وتتغير قيمته داخل الحلقة التكرارية حسب رقم الصف الحالي ولذلك بدأنا من `1`
- نقوم بإنشاء حلقة تكرارية بشرط `r` أقل من أو يساوي عدد الصفوف `rows` حتى تتكرر بعدد الصفوف.
  - بداخل الحلقة التكرارية نقوم بإنشاء متغير `stars` قيمته نص فارغ `""` لنقوم بإضافة نجوم الصف الحالي عليه لاحقاً
  - نقوم بإنشاء حلقة تكرارية أخرى، مهمتها إضافة نجوم الصف الحالي للمتغير الذي أنشأناه، متغير العداد نسميه مثلاً `i`
  - إن كنا في الصف اﻷول، فستقوم الحلقة التكرارية بطباعة نجمة واحدة، أما في الثاني تطبع نجمتين... وهكذا؛ لذلك هذه الحلقة ستتكرر برقم الصف الحالي، مثلاً لو كان الصف الثالث ستتكرر ثلاث مرات، ولذلك سنستخدم المتغير `r` متغير العداد للحلقة الكبيرة في الشرط، ﻷن `r` يعبر عن رقم الصف الحالي كما قلنا باﻷعلى
    - داخل الحلقة الثانية نقوم بدمج النجمة `"*"` مع قيمة المتغير `stars`
  - ونقوم بطباعة قيمة المتغير `stars` بعد اﻹنتهاء من الحلقة التكرارية الثانية

</expand>

<expand full button-text="عرض الحل" hide-text="إخفاء الحل">

```js
function triangle(rows){
  var r = 1;
  while (r <= rows){
    var i = 1;
    var stars = "";
    while(i <= r){
      stars = stars + '*';
      i = i + 1;
    }
    // print row stars
    console.log(stars);
    r = r + 1;
  }
}
```
> جرب تغيير قيمة `rows` إلى `8` ليرسم مثلث كبير بقاعدة 8 نجوم

> استخدمنا دمج النصوص (concatenation) يمكنك مراجعته في [درس التعبيرات](/tutorials/algorithms/fundamentals/expressions#دمج-النصوص-concatenation)
</expand>

## الحلقة التكرارية `for`
الحلقة التكرارية `for` تسهل علينا الحلقات التكرارية **العددية** وتجعل كتابتها أسهل وأسرع، فبدلاً من أن نقوم بإنشاء متغير العداد، ونقوم بزيادة قيمته أو إنقاصها في أوامر الحلقة، يمكننا استخدام الحلقة `for` لتسهيل واختصار هذه العملية.

<base-alert type="info">

تُستخدم الحلقة `for` فقط مع **الحلقات التكرارية العددية** أي التي تتكرر عدد معين من المرات.

</base-alert>

### طريقة كتابة الحلقة `for`
```js
for (statement1; statement2; statement3) {
  // block
}
```
- **statement1**: اﻷمر اﻷول، يتنفذ قبل تنفيذ الحلقة التكرارية، مرة واحدة. وفيه نقوم **بإنشاء متغير العداد**
- **statement2**: اﻷمر الثاني، نكتب فيه شرط الحلقة التكرارية، مثلاً `i <= 3`
- **statement3**: اﻷمر الثالث، يتنفذ في نهاية كل دورة من دورات الحلقة التكرارية، تذكر أننا في  وفيه نقوم **بتغيير متغير العداد**

<base-alert type="warning">

**تذكر:** نفصل بين اﻷوامر الثلاثة بعلامة **`;`**

</base-alert>

### مثال على الحلقة `for`

```js
for (var i = 0; i <= 3; i++) {
  console.log(i);
}
```
<code-result>
0
<br>
1
<br>
2
<br>
3
</code-result>

**تتكون الحلقة التكرارية في المثال السابق من ثلاثة أوامر:**
- `var i = 0`: أمر إنشاء متغير العداد `i` وقيمته تساوي صفر، أي أن الحلقة ستبدأ من الصفر
- `i <= 3`: شرط التكرار، ويعني أن الحلقة ستتكرر مادامت قيمة متغير العداد أقل من أو تساوي `3` بالتالي ستتكرر الحلقة 4 مرات (0, 1, 2, 3)
- `i++`: أمر تغيير قيمة متغير العداد في كل دورة

> اﻷمر الثالث في المثال السابق بالضبط يقوم بنفس مهمة الأمر `i += 1` الذي كنا نكتبه مع حلقة `while` في نهاية كتلة اﻷوامر.

<base-alert type="info">

قد درسنا العلامة `++` سابقاً في درس [العمليات الحسابية](/tutorials/algorithms/intermediate/arithmetic#علامة-الزيادة-) وتعنى زيادة واحد على قيمة المتغير

</base-alert>

### متى نستخدم `for` ومتى `while`
على الرغم من أن `while` يمكنها فعل ما تفعله `for` بالضبط، ولكننا نفضّل استخدام `for` في الأمر التي تختص به، وهو التكرار لعدد معين معلوم من المرات، أما نستخدم `while` بشكل عام في الحلقات التكرارية التي تتكرر إلى أن يتحقق شرط معين، لا تتكرر عدد من المرات ولكن تتكرر إلى أن يتحقق الشرط، فمثلاً نطلب من المستخدم أن يقوم بإدخال عدد، ونقوم بإنشاء حلقة تكرارية تظل تتكرر إذا لم يقم المستخدم بإدخال عدد، مثلاً أدخل نصّا أو رمزاً، وتظل هذه الحلقة تتكرر إلى أن يقوم المستخدم بإدخال عدد صحيح!

أو في حالة أخرى، نريد أن ننشئ برنامج يتابع سعر الدولار مثلاً، ويظل يتابعه إلى أن يصل الدولار لسعر 20 جنيه، في هذه الحالة نريد التكرار... ولكن عدد غير معين من المرات، نريد التكرار إلى أن يتحقق الشرط "وصول سعر الدولار إلى 20" ولا نعلم هل سيتحقق الشرط بعد 100 مرة أم بعد 100 ألف! في هذه الحالة نستخدم `while`

<!-- لذلك تُستخدم `while` بكثرة في الscripts -->

### الوصول لكل عناصر المصفوفة باستخدام `for`
كما كنا نستخدم `while` للوصول لكل عناصر المصفوفة سابقاً في درس [المصفوفات](/tutorials/algorithms/intermediate/arrays#الوصول-لعناصر-المصفوفة) يمكننا اﻵن استخدام `for` للوصول لكل عناصر المصفوفة بكتابة كود أكثر تنسيقاً وسهولة

```js
var numbers = [2,4,6,8];
for (var i = 0; i < numbers.length; i++){
  console.log(numbers[i]);
}
```
<code-result>
2
<br>
4
<br>
6
<br>
8
</code-result>

### الحلقات المتداخلة باستخدام `for`

يمكن تطبيق ما تعلمناه عن الحلقات المتداخلة (Nested Loops) مع الحلقة `for` وستلاحظ أن الكود أصبح مختصراً ومنسقاً أكثر

```js
for (var i = 1; i <= 3; i++){
  for(var n = 1; n <= 4; n++){
    console.log(n);
  }
}
```

<expand full button-text="عرض الناتج">

<code-result>
1
<br>
2
<br>
3
<br>
4
<br>
1
<br>
2
<br>
3
<br>
4
<br>
1
<br>
2
<br>
3
<br>
4
</code-result>

</expand>

> جرب [الرجوع لنفس المثال](#طباعة-اﻷعداد-من-1-إلى-4-ثلاث-مرات) مع `while` وانظر الفرق بين الكود هنا وهناك!
