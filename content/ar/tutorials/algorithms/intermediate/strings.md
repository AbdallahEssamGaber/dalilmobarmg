---
title: النصوص (متوسط)
description: شرح متقدم للنصوص (strings) والعمليات عليها والدوال المرتبطة بها
position: 17.1
category: intermediate
createdAt: 1616058624657
updatedAt: 1616058624657
new: false
updated: false
contributors:
  - ebrahimmaher
---

## مقدمة
> لقد سبق أن تحدثنا عن النصوص (strings) في درس [أنواع البيانات](/tutorials/algorithms/fundamentals/datatypes) في المستوى اﻹبتدائي، وشرحنا فيه الأساسيات، أيضاً تحدثنا عن دمج النصوص وبعض الأمور المرتبطة بالنصوص في دروس المستوى الإبتدائي، واﻵن سنتعمق أكثر في النصوص ونتعلم الدوال المرتبطة بها والعمليات عليها، وسنناقش بعض المشكلات البرمجية ونضع حلولاً لها

> اﻵن أنت قد تعلمت الكثير من المبادئ البرمجية، لذلك أنت اﻵن قادر على دراسة وفهم التفاصيل المتقدمة عن كل نوع من أنواع البيانات والعمليات عليه

<base-alert type="info">

**اﻹختلافات بين اللغات**:
تختلف هذه الدوال من لغة لأخرى، فهناك دوال موجودة في لغات وليست في اﻷخرى، لكننا سنتحدث عن الدوال والعمليات اﻷهم والمشتركة تقريباً بين كل لغات البرمجة.

ربما يختلف اسم بعض الدوال التي سنشرحها من لغة لأخرى، لكن تبقى الدالة نفسها وتؤدي نفس الغرض.

</base-alert>

> الجدير بالذكر أن هذه الدوال ستساعدك بشكل كبير جداً لاحقاً في تنفيذ أي خوارزمية أو حل أي مشكلة برمجية.

### لماذا هذا الدرس؟
تعلمنا اﻷمور اﻷساسية عن النصوص، لكن في بعض اﻷحيان نحتاج لإجراء عمليات أكثر على النصوص لحل مشكلات برمجية معينة، تأمل معي المشكلات التالية:

- لدينا نص عبارة عن كلمة سر المستخدم، ونريد أن نتحقق من طول كلمة السر فإذا كان طولها أقل من 6 نطلب منه أن يقوم بكتابة كلمة سر أقوى
- نريد أن نستبدل نص معين بنص آخر، مثلاً لدينا نص طويل ونريد تصحيح اﻷخطاء فيه، مثلاً نريد أن نبحث عن "انشاء الله" ونستبدلها بـ "إن شاء الله"


## طول النص `length`
يمكننا معرفة عدد حروف النص (طول النص) باستخدام الخاصية `length` كالتالي:
```js
var name = "Mohammed";
console.log(name.length);
```
<code-result>
8
</code-result>

### حل مشكلة طول كلمة السر
يمكننا حل المشكلة التي ذكرناها باﻷعلى وهي:
> لدينا نص عبارة عن كلمة سر المستخدم، ونريد أن نتحقق من طول كلمة السر فإذا كان طولها أقل من 6 نطلب منه أن يقوم بكتابة كلمة سر أقوى

#### الخوارزمية
- نجلب طول كلمة السر
- نتحقق باستخدام الشروط هل طول كلمة السر أقل من 6
  - نقوم بطباعة "كلمة السر قصيرة جداً"
  - غير ذلك نطبع "كلمة السر قوية"

#### كود الحل
```js
var password = "12345";
if (password.length < 6){
  console.log("كلمة السر قصيرة جداً");
}else{
  console.log("كلمة السر قوية");
}
```
<code-result rtl>
كلمة السر قصيرة جداً
</code-result>

> جرب في المثال السابق تغيير قيمة المتغير *`password`* إلى "1234567"

## استبدال النصوص
يمكننا استخدام الدالة `replace()` لاستبدال نص بنص أخر

تأخذ الدالة مُدخلين، اﻷول هو النص الذي تريد استبداله، والثاني هو النص الجديد، وتقوم الدالة بإرجاع ناتج اﻹستبدال.

```js
var text = "I like programming";
var newText = text.replace("programming", "coding");
console.log(newText);
```
<code-result>
I like coding
</code-result>

### الدالة `replaceAll()`
ﻷن الدالة `replace()` تقوم بإستبدال الكلمة اﻷولى فقط، أول كلمة تجدها، فهناك دالة أخرى `replaceAll()` مهمتها استبدال كل الكلمات التي تجدها في النص مهما كان عددها
```js
var text = "I like programming and programming is my hobby";
var newText = text.replaceAll("programming", "coding");
console.log(newText);
```
<code-result>
I like coding and coding is my hobby
</code-result>

> لو جربت المثال السابق بإستخدام الدالة `replace()` سيكون الناتج استبدال الكلمة اﻷولى فقط كالتالي: "I like **coding** and **programming** is my hobby"

### تصحيح اﻷخطاء اﻹملائية
يمكننا حل المشكلة التي ذكرناها باﻷعلى:
> نريد أن نستبدل نص معين بنص آخر، مثلاً لدينا نص طويل ونريد تصحيح اﻷخطاء فيه، مثلاً نريد أن نبحث عن "انشاء الله" ونستبدلها بـ "إن شاء الله"

```js
var text = "انشاء الله هو مُصطلح شائع بين المُسلمين";

var replaceText = "انشاء";
var replaceBy = "إن شاء";

var newText = text.replaceAll(replaceText, replaceBy);
console.log(newText);
```
<code-result rtl>
إن شاء الله هو مُصطلح شائع بين المُسلمين
</code-result>

> واﻵن أصبح لدينا متغير آخر `newText` فيه النص بعد تصحيح الخطأ واستبدال "انشاء" بـ "إن شاء"

## دوال أخرى للنصوص
في كل لغة برمجة هناك دوال مُدمجة مع اللغة (Built in) يمكنك استخدامها لإجراء عمليات مختلفة على النصوص سريعاً، وذكرنا بعض هذه الدوال باﻷعلى،
الجدير بالذكر أن هذه الدوال ستساعدك بشكل كبير جداً لاحقاً في تنفيذ أي خوارزمية أو حل أي مشكلة برمجية.

<base-alert type="tip">

ليس من المهم أن تحفظ أسماء هذه الدوال، لكن المهم أن تعرف أن هناك دالة يمكنها أن تساعدك في كذا، وجرب كل دالة على اﻷقل مرة، فعندما تحتاج لها في حل أي مشكلة برمجيا مستقبلاً يمكنك البحث عنها بسهولة وإيجاد اسمها، سواء من المراجع أو الدروس التي تعلمت منها أو البحث على جوجل، والحفظ سيأتي بكثرة اﻹستخدام فقط.

</base-alert>

|الدالة|وصف الدالة|
|:--------:|:-------:|
|**`.toUpperCase()`**|تحويل كل حروف النص إلى حروف كبيرة (Capital)|
|**`.toLowerCase()`**|تحويل كل حروف النص إلى حروف صغيرة (small)|
|**`.trim()`**|دالة تقوم بحذف أي مسافات في أول النص أو آخره، مثلاً `"  test "` تصبح `"test"`|
|**`.repeat()`**|تكرار النص بعدد محدد من المرات|

<base-alert type="warning">

هذه الدوال لا تقوم بتغيير قيمة المتغير اﻷصلي، هي فقط تقوم بإرجاع القيمة الجديدة، لكن يبقى المتغير الذي نجري على قيمته العملية كما هو بدون تغيير.

</base-alert>

### دوال اﻷحرف الكبيرة والصغيرة
```js
var test = "Test";
console.log(test.toUpperCase());
console.log(test.toLowerCase());
```
<code-result>
TEST
<br>
test
</code-result>

### الدالة `trim()`
دالة تقوم بحذف أي مسافات في أول النص أو آخره، مثلاً `"  test "` تصبح `"test"

```js
var before = "      Test text   ";
var after = before.trim();
console.log(before);
console.log(after)
```
<code-result>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test text&nbsp;&nbsp;&nbsp;
<br>
Test text
</code-result>

### تكرار النص `.repeat()`
```js
var text = "Test ";
console.log(text.repeat(4));
```
<code-result>
Test Test Test Test 
</code-result>

## الوصول لأحرف النص
**النص عبارة عن سلسلة من اﻷحرف** وبالتالي لكل حرف من هذه اﻷحرف ترتيب يمكن استخدامه في الوصول للحرف، فمثلاً النص `"ABC"` فيه ثلاثة أحرف، الحرف `"A"` ترتيبه **0** والحرف `"B"` ترتيبه **1** والحرف `"C"` ترتيبه **2** وهكذا.

### الوصول لحرف بترتيبه
يمكننا إستخدام الدالة `charAt()` للوصول للحرف عن طريق ترتيبه
```js
var text = "ABCD";
console.log(text.charAt(0));
console.log(text.charAt(2));
```
<code-result>
A
<br>
C
</code-result>


## اﻷحرف الخاصة
عندما نقوم بإنشاء نص جديد نستخدم علامات التنصيص `""` لكن ماذا لو أردنا أن نكتب داخل النص علامة تنصيص؟ يعني مثلاً نطبع: **يمكننا تخطي "اﻷحرف الخاصة" بسهولة** ويكون بداخل النص المطبوع نفسه علامة تنصيص! 

لنجري تجربة سريعة:
```js
var text = "يمكننا تخطي "اﻷحرف الخاصة" بسهولة";
console.log(text);
```
<code-result error>
Unexpected identifier
</code-result>

#### لماذا ظهر خطأ؟ 
ببساطة ﻷن المفسر يعتبر علامة التنصيص التي كتبتها جزء من الكود البرمجي، وبالتالي يحدث هذا التعارض الذي يظهر في الكود، ولكن كيف يمكننا تخطي وحل المشكلة؟

### تخطي اﻷحرف الخاصة
يمكننا أن نضع العلامة المائلة المقلوبة `\` قبل الحرف الخاص لنخبر المفسر أننا نريده أن يتخطى هذا الحرف الخاص، أن يعتبره حرف عادي وليس جزء من الكود البرمجي.

بدلاً من أن نكتب `"` سنكتب `\"`
>العلامة المائلة المقلوبة `\` أو كما نسميها (backslash) توجد في لوحة المفاتيح أعلى أو يسار زر Enter

<base-alert type="warning">

لاحظ أن العلامة `\` توضع قبل الحرف الخاص وليس بعده، ستجدها مع اللغة العربية على يمينه ومع الإنجليزية على يساره ﻷن اتجاه كتابة اللغتين مختلف، لكن اﻷهم أنها قبل الحرف الخاص.

</base-alert>

```js
var text = "يمكننا تخطي \"اﻷحرف الخاصة\" بسهولة";
console.log(text);
```
<code-result>
يمكننا تخطي "اﻷحرف الخاصة" بسهولة
</code-result>

### قائمة اﻷحرف الخاصة
|الحرف الخاص|طريقة التخطي| ناتج التخطي|
|:--------:|:-------:|:-------:|
|**`"`**|**`\"`**|**"**|
|**`'`**|**`\'`**|**'**|
|**`\`**|**`\\`**|**\\**|
